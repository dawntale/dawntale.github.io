{% if jekyll.environment == "production" %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
{% else %}
<script src="{{ '/assets/js/jquery.min.js' | relative_url  }}"></script>
<script src="{{ '/assets/js/bootstrap.min.js' | relative_url }}"></script>
{% endif %}

<!-- Custom Script -->
<script>
    $(document).ready( function() {
        var data = localStorage.darkMode;

        $("body").attr("dark-mode", data);

        $('#dark-mode-toggle')
        .prop('checked', data == 'true')
        .change(function () {
            data = $(this).prop('checked');
            localStorage.darkMode = data;
            $("body").attr("dark-mode", data);
        });

        $('#markdown-toc').appendTo('#toc');
    })
    .on('click', 'a[href]', function (e) {
        var href = $(this).attr('href');

        if (!href.includes('#')) return;

        var id = '#' + href.split('#').pop();
        var $id = $(id);

        if ($id.length === 0) return;

        e.preventDefault();

        var pos = $id.offset().top;

        $('body, html').animate({ scrollTop: pos }, 600);
    });
</script>